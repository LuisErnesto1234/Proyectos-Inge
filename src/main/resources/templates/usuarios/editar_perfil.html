<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <title>Editar Perfil</title>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
</head>
<body class="bg-gray-100">

<div class="container mx-auto p-4 max-w-lg">
    <h1 class="text-3xl font-bold mb-6">Editar Perfil</h1>
    <form th:action="@{/usuarios/perfil/actualizar}" th:object="${usuario}" method="post" enctype="multipart/form-data" class="bg-white p-6 rounded shadow-md">
        <input type="hidden" th:field="*{id}">

        <!-- Campo para nombre -->
        <div class="mb-4">
            <label for="nombre" class="block text-gray-700 text-sm">Nombre</label>
            <input type="text" id="nombre" th:field="*{nombre}" placeholder="Nombre" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"/>
        </div>

        <!-- Campo para apellido -->
        <div class="mb-4">
            <label for="apellido" class="block text-gray-700 text-sm">Apellido</label>
            <input type="text" id="apellido" th:field="*{apellido}" placeholder="Apellido" required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"/>
        </div>

        <!-- Campo para correo -->
        <div class="mb-4">
            <label for="correo" class="block text-gray-700 text-sm">Correo</label>
            <input type="email" id="correo" th:field="*{correo}" placeholder="Correo" readonly required class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"/>
        </div>

        <!-- Campo para la nueva contraseña -->
        <div class="mb-4">
            <label for="contrasennia" class="block text-gray-700 text-sm">Nueva Contraseña (opcional)</label>
            <input type="password" id="contrasennia" th:field="*{contrasennia}" readonly class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"/>
        </div>

        <!-- Campo para foto de perfil -->
        <div class="mb-4">
            <label for="fotoPerfil" class="block text-gray-700 text-sm">Foto de perfil</label>
            <input type="file" id="fotoPerfil" name="fotoPerfil" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-500"/>
        </div>

        <!-- Botón de submit -->
        <div class="flex justify-end">
            <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-blue-500">Actualizar Perfil</button>
        </div>
    </form>

    <a href="/proyectos" class="mt-4 inline-block bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-1 focus:ring-gray-500">Volver a Proyectos</a>

    <!-- Muestra mensajes de error o éxito -->
    <div th:if="${error}" class="mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
        <span th:text="${error}"></span>
    </div>
    <div th:if="${mensaje}" class="mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
        <span th:text="${mensaje}"></span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>

</body>
</html>